local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

local LocalPlayer = Players.LocalPlayer
local startTime = os.time()

local webhook = "GANTI SAMA LINK WEBHOOK MU"
local requestFunction = http and http.request or http_request

local discordUserId = "GANTI SAMA ID DISCORD MU"

local function formatTime(seconds)
    local h = math.floor(seconds / 3600)
    local m = math.floor((seconds % 3600) / 60)
    local s = seconds % 60
    return string.format("%02d:%02d:%02d", h, m, s)
end

local function sendStatus(status, pingUser)
    local uptime = os.time() - startTime
    local uptimeFormatted = formatTime(uptime)

    local function box(text)
        return "```\n" .. text .. "\n```"
    end

    local data = {
        username = "Zinnc Webhook",

        embeds = {{
            title = "Roblox Status Updated!",
            description = "This webhook was created by @zncyeah_",
            color = 0x7B00FF,

            fields = {
                {
                    name = "‚ö° Status Player :",
                    value = box(status),
                    inline = false
                },
                {
                    name = "‚è≥ Uptime :",
                    value = box(uptimeFormatted),
                    inline = false
                },
                {
                    name = "üë§ Username :",
                    value = box(LocalPlayer.Name),
                    inline = false
                }
            },

            footer = {
                text = "discord.gg/zUf6yjNHdp ‚Ä¢ @zncyeah_"
            },

            timestamp = DateTime.now():ToIsoDate()
        }}
    }

    if pingUser then
        data.content = "Hey! <@" .. discordUserId .. "> view this webhook status"
        data.allowed_mentions = {
            parse = {"users"},
            users = {discordUserId}
        }
    end

    requestFunction({
        Url = webhook,
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = HttpService:JSONEncode(data)
    })
end

sendStatus("üü¢ Active In Game (Just Joined the Game)", false)

task.spawn(function()
    while task.wait(3600) do
        sendStatus("üü¢ Active In Game", false)
    end
end)

Players.PlayerRemoving:Connect(function(player)
    if player == LocalPlayer then
        sendStatus("üî¥ Player Disconnect / Crash / Kicked", true)
    end
end)
